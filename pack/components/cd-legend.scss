cd-legend {
  position: absolute; // Position is set by the JS
  display: block;
  top: 0;
  left: 0;
  width: 11em;
  margin-top: 15px;
  padding: .5em;
  line-height: 1.3;
  border: 3px solid black;
  background-color: $off-white;
  transform: translate(-50%) scale(0.8);
  transform-origin: top;
  opacity: 0;
  pointer-events: none;
  transition: opacity .2s, transform .2s;
  
  &[cd-legend-hide] {
    display: none;
  }
  
  &[cd-legend-show] {
    opacity: 1;
    transform: translate(-50%) scale(1);
  }
  
  &::before {
    content: "";
    position: relative;
    display: block;
    float: left; // Don't take up space
    left: 50%;
    top: -11px;
    width: 0;
    height: 0;
    margin-top: -15px;
    margin-left: -15px;
    border-bottom: 15px solid black;
    border-left: 15px solid transparent;
    border-right: 15px solid transparent;
  }
  
  .cd-legend-name {
    display: inline-block;
    margin-left: .3em;
    font-size: .8em;
  }
  
  .cd-legend-color {
    display: inline-block;
    width: 1em;
    height: 1em;
    vertical-align: middle;
  }
  
  .cd-legend-vacuum-pressure      { background-color: #F0F; }
  .cd-legend-atmospheric-pressure { background-color: #00F; }
  .cd-legend-low-pressure         { background-color: #FF0; }
  .cd-legend-medium-pressure      { background-color: #F70; }
  .cd-legend-high-pressure        { background-color: #F00; }
  
  .cd-legend-ground-voltage       { background-color: #000; }
  .cd-legend-low-voltage          { background-color: #FFD800; }
  .cd-legend-medium-voltage       { background-color: #7fd97f; }
  .cd-legend-high-voltage         { background-color: #00DAFF; }
  .cd-legend-magnetic-field       { background-color: #8D02FF; }
}
